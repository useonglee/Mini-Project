{"version":3,"file":"next-redux-saga.es.js","sources":["../index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React, {Component} from 'react'\r\nimport {END} from 'redux-saga'\r\n\r\nfunction withReduxSaga(BaseComponent) {\r\n  class WrappedComponent extends Component {\r\n    static displayName = `withReduxSaga(${BaseComponent.displayName ||\r\n      BaseComponent.name ||\r\n      'BaseComponent'})`\r\n\r\n    static async getInitialProps(props) {\r\n      const {isServer, store} = props.ctx\r\n\r\n      let pageProps = {}\r\n      if (BaseComponent.getInitialProps) {\r\n        pageProps = await BaseComponent.getInitialProps(props)\r\n      }\r\n\r\n      // Stop saga on the server\r\n      if (isServer) {\r\n        store.dispatch(END)\r\n        await store.sagaTask.toPromise()\r\n      }\r\n\r\n      return pageProps\r\n    }\r\n\r\n    render() {\r\n      return <BaseComponent {...this.props} />\r\n    }\r\n  }\r\n\r\n  return WrappedComponent\r\n}\r\n\r\nexport default withReduxSaga\r\n"],"names":["withReduxSaga","BaseComponent","WrappedComponent","props","ctx","isServer","store","pageProps","getInitialProps","dispatch","END","sagaTask","toPromise","Component","displayName","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,SAASA,aAAT,CAAuBC,aAAvB,EAAsC;MAC9BC,gBAD8B;;;;;;;;;;;;;+BAuBzB;eACA,oBAAC,aAAD,EAAmB,KAAKC,KAAxB,CAAP;;;;;;;kDAlB2BA,KANK;;;;;;;+BAONA,KAAK,CAACC,GAPA,EAOzBC,QAPyB,cAOzBA,QAPyB,EAOfC,KAPe,cAOfA,KAPe;kBAS5BC,SAT4B,GAShB,EATgB;;uBAU5BN,aAAa,CAACO,eAVc;;;;;;yBAWZP,aAAa,CAACO,eAAd,CAA8BL,KAA9B,CAXY;;;kBAW9BI,SAX8B;;;uBAe5BF,QAf4B;;;;;kBAgB9BC,KAAK,CAACG,QAAN,CAAeC,GAAf;;yBACMJ,KAAK,CAACK,QAAN,CAAeC,SAAf,EAjBwB;;;mDAoBzBL,SApByB;;;;;;;;;;;;;;;;;IACLM,SADK;;kBAC9BX,gBAD8B,yCAEID,aAAa,CAACa,WAAd,IACpCb,aAAa,CAACc,IADsB,IAEpC,eAJgC;;SA4B7Bb,gBAAP;;;;;"}