{"version":3,"file":"next-redux-saga.umd.js","sources":["../index.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React, {Component} from 'react'\r\nimport {END} from 'redux-saga'\r\n\r\nfunction withReduxSaga(BaseComponent) {\r\n  class WrappedComponent extends Component {\r\n    static displayName = `withReduxSaga(${BaseComponent.displayName ||\r\n      BaseComponent.name ||\r\n      'BaseComponent'})`\r\n\r\n    static async getInitialProps(props) {\r\n      const {isServer, store} = props.ctx\r\n\r\n      let pageProps = {}\r\n      if (BaseComponent.getInitialProps) {\r\n        pageProps = await BaseComponent.getInitialProps(props)\r\n      }\r\n\r\n      // Stop saga on the server\r\n      if (isServer) {\r\n        store.dispatch(END)\r\n        await store.sagaTask.toPromise()\r\n      }\r\n\r\n      return pageProps\r\n    }\r\n\r\n    render() {\r\n      return <BaseComponent {...this.props} />\r\n    }\r\n  }\r\n\r\n  return WrappedComponent\r\n}\r\n\r\nexport default withReduxSaga\r\n"],"names":["withReduxSaga","BaseComponent","WrappedComponent","React","props","ctx","isServer","store","pageProps","getInitialProps","dispatch","END","sagaTask","toPromise","Component","displayName","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAIA,SAASA,aAAT,CAAuBC,aAAvB,EAAsC;EAAA,MAC9BC,gBAD8B;EAAA;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;EAAA,+BAuBzB;EACP,eAAOC,6BAAC,aAAD,EAAmB,KAAKC,KAAxB,CAAP;EACD;EAzBiC;EAAA;EAAA;EAAA;EAAA;EAAA,kDAMLA,KANK;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA,+BAONA,KAAK,CAACC,GAPA,EAOzBC,QAPyB,cAOzBA,QAPyB,EAOfC,KAPe,cAOfA,KAPe;EAS5BC,kBAAAA,SAT4B,GAShB,EATgB;;EAAA,uBAU5BP,aAAa,CAACQ,eAVc;EAAA;EAAA;EAAA;;EAAA;EAAA,yBAWZR,aAAa,CAACQ,eAAd,CAA8BL,KAA9B,CAXY;;EAAA;EAW9BI,kBAAAA,SAX8B;;EAAA;EAAA,uBAe5BF,QAf4B;EAAA;EAAA;EAAA;;EAgB9BC,kBAAAA,KAAK,CAACG,QAAN,CAAeC,aAAf;EAhB8B;EAAA,yBAiBxBJ,KAAK,CAACK,QAAN,CAAeC,SAAf,EAjBwB;;EAAA;EAAA,mDAoBzBL,SApByB;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA;EAAA;EAAA;EAAA;;EAAA;EAAA,IACLM,eADK;;EAAA,kBAC9BZ,gBAD8B,yCAEID,aAAa,CAACc,WAAd,IACpCd,aAAa,CAACe,IADsB,IAEpC,eAJgC;;EA4BpC,SAAOd,gBAAP;EACD;;;;;;;;"}